{"version":3,"sources":["redux/modules/appState/index.js","redux/modules/gameState/index.js","redux/reducer.js","services/mongoService.js","redux/modules/appState/middleware.js","redux/modules/gameState/middleware.js","services/winResult.js","redux/middleware.js","redux/index.js","components/icon/index.js","components/body/index.js","components/status/index.js","components/popup/index.js","App.js","provider/LoadingProvider.js","index.js"],"names":["GET_URL_PARAMS","ADD_ROLE","WIN_RESULT","REPEAT_ROUND","initialState","token","user","role","winResult","repeatRound","winResultAction","payload","type","repeatRoundAction","GET_GAME_STATE","field","moveRole","restart","combineReducers","app","state","action","gameState","data","useApiParams","request","url","a","method","body","headers","JSON","stringify","fetch","response","json","console","log","postUserData","getGameData","postMoveData","postRepeatRound","appMiddleware","store","next","then","res","dispatch","getState","gameStateMiddleware","setInterval","win","result","map","comb","i","equal","item","push","every","val","arr","Object","values","findIndex","newMove","newField","assign","toString","middleware","thunk","applyMiddleware","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","reducer","paths","x","path","viewBox","y","Icon","icon","d","Grid","styled","div","Item","active","Body","useSelector","useDispatch","entries","onClick","Wrapper","Status","useState","status","setStatus","useEffect","Button","Popup","message","setMessage","App","connect","props","rawUrlParams","qs","parse","location","search","ignoreQueryPrefix","children","ReactDOM","render","document","getElementById"],"mappings":"8JAEMA,EAAiB,iBACjBC,EAAW,WACXC,EAAa,aACbC,EAAe,eAgBfC,EAAsB,CAC1BC,MAAO,GACPC,KAAM,EACNC,KAAM,GACNC,WAAW,EACXC,aAAa,GAuCR,IAUMC,EAAkB,SAACC,GAAD,MAA8B,CAC3DC,KAAMV,EACNS,YAGWE,EAAoB,SAACF,GAAD,MAA+B,CAC9DC,KAAMT,EACNQ,YC/EIG,EAAiB,iBAcjBV,EAAsB,CAC1BW,MAAO,GACPC,SAAU,SACVC,SAAS,GAuBJ,I,UCtCQC,cAAgB,CAC7BC,IFuBa,WAGL,IAFRC,EAEO,uDAFQhB,EACfiB,EACO,uCACP,OAAQA,EAAOT,MACb,KAAKZ,EACH,OAAO,2BACFoB,GADL,IAEEf,MAAOgB,EAAOV,QAAQN,MACtBC,KAAMe,EAAOV,QAAQL,OAGzB,KAAKL,EACH,OAAO,2BACFmB,GADL,IAEEb,KAAMc,EAAOV,QAAQJ,OAGzB,KAAKL,EACH,OAAO,2BACFkB,GADL,IAEEZ,UAAWa,EAAOV,UAGtB,KAAKR,EACH,OAAO,2BACFiB,GADL,IAEEX,YAAaY,EAAOV,UAGxB,QACE,OAAOS,IErDXE,UDgBa,WAGL,IAFRF,EAEO,uDAFQhB,EACfiB,EACO,uCACP,OAAQA,EAAOT,MACb,KAAKE,EACH,OAAO,2BACFM,GADL,IAEEL,MAAOM,EAAOV,QAAQY,KAAKR,MAC3BC,SAAUK,EAAOV,QAAQY,KAAKP,SAC9BC,QAASI,EAAOV,QAAQY,KAAKN,UAIjC,QACE,OAAOG,M,+BEtCAI,EAAe,WAC1B,IAAMC,EAAO,uCAAG,WAAOC,GAAP,mCAAAC,EAAA,6DAAYC,EAAZ,+BAAqB,MAAOC,EAA5B,+BAAmC,KAAMC,EAAzC,+BAAmD,GAAnD,SAERD,IACFA,EAAOE,KAAKC,UAAUH,GACtBC,EAAQ,gBAAkB,oBAJhB,SAMWG,MAAMP,EAAK,CAAEE,SAAQC,OAAMC,YANtC,cAMNI,EANM,iBAOOA,EAASC,OAPhB,eAONZ,EAPM,yBAQLA,GARK,kCAUZa,QAAQC,IAAI,SAVA,0DAAH,sDAyBb,MAAO,CAAEC,aAZS,uCAAG,WAAMT,GAAN,SAAAF,EAAA,sEACbF,EAAQ,4BAA6B,OAAQI,GADhC,mFAAH,sDAYKU,YATN,uCAAG,WAAMV,GAAN,SAAAF,EAAA,sEACZF,EAAQ,0BAA2B,OAAQI,GAD/B,mFAAH,sDASmBW,aANlB,uCAAG,WAAMX,GAAN,SAAAF,EAAA,sEACbF,EAAQ,wBAAyB,OAAQI,GAD5B,mFAAH,sDAMgCY,gBAH7B,uCAAG,WAAMZ,GAAN,SAAAF,EAAA,sEAChBF,EAAQ,2BAA4B,OAAQI,GAD5B,mFAAH,wDCSRa,EA5BO,SAAAC,GAAK,OAAI,SAAAC,GAAI,OAAI,SAAAvB,GACrC,OAAQA,EAAOT,MACb,IAAK,iBACH,MAAwBS,EAAOV,QAAvBN,EAAR,EAAQA,MAAOC,EAAf,EAAeA,MAGfgC,EAFyBd,IAAjBc,cAEK,CACXjC,MAAOA,EACPC,KAAMA,IACLuC,MAAK,SAAAC,GACNA,GAAOH,EAAMI,SJwDsC,CACzDnC,KAAMX,EACNU,QI1D0CmC,OAEtCH,EAAMI,SH2BiD,CAC3DnC,KA1CiB,aA2CjBD,QG7BmCN,IAE/B,MAEF,IAAK,eACH,MAAwBsC,EAAMK,WAAW7B,IAAjCd,EAAR,EAAQA,MAAOE,EAAf,EAAeA,MAEfkC,EAD4BjB,IAApBiB,iBACQ,CAAEpC,QAAOE,SAM7BqC,EAAKvB,MC4BQ4B,EApDa,SAAAN,GAAK,OAAI,SAAAC,GAAI,OAAI,SAAAvB,GAC3C,OAAQA,EAAOT,MACb,IAAK,aACH,IAAQ2B,EAAgBf,IAAhBe,YACFlC,EAAQgB,EAAOV,QACrBuC,aAAY,WACVX,EAAY,CAAElC,UAASwC,MAAK,SAAAC,GAC1B,IAAQxB,EAAcqB,EAAMK,WAApB1B,UACR,GAAIwB,GAAOf,KAAKC,UAAUc,EAAIvB,QAAUQ,KAAKC,UAAUV,IACjDwB,EAAK,CACPH,EAAMI,SJiC4C,CAC9DnC,KAAME,EACNH,QInC8CmC,IAClC,IAAIK,EChBO,SAAA5B,GACvB,IAAI6B,GAAS,EAsBb,MArBwB,CACtB,CAAC,WAAY,WAAY,YACzB,CAAC,WAAY,WAAY,YACzB,CAAC,WAAY,WAAY,YACzB,CAAC,WAAY,WAAY,YACzB,CAAC,WAAY,WAAY,YACzB,CAAC,WAAY,WAAY,YACzB,CAAC,WAAY,WAAY,YACzB,CAAC,WAAY,WAAY,aAGXC,KAAI,SAACC,EAAMC,GACzB,IAAIC,EAAQ,GAOZ,OANAF,EAAKD,KAAI,SAACI,EAAMF,GAAP,OAAaC,EAAME,KAAKnC,EAAKkC,GAAQlC,EAAKkC,GAAQF,MACvDC,EAAMG,OAAM,SAACC,EAAKL,EAAGM,GAAT,OAAiBD,IAAQC,EAAI,MAC3CT,EAAsB,MAAbI,EAAM,GAAa,SAAW,SAC6B,IAA3DM,OAAOC,OAAOxC,GAAMyC,WAAU,SAAAP,GAAI,OAAa,IAATA,OAC/CL,EAAS,OAEJI,KAEFJ,EDPe5C,CAAUsC,EAAIvB,KAAKR,OAC7BoC,GAAOR,EAAMI,SAASrC,EAAgByC,UAI3C,KACH,MAEF,IAAK,YACH,IAAQ9C,EAAUsC,EAAMK,WAAW7B,IAA3Bd,MACAmC,EAAiBhB,IAAjBgB,aACR,EAA2CnB,EAAOV,QAA1CsD,EAAR,EAAQA,QAASlD,EAAjB,EAAiBA,MAAOR,EAAxB,EAAwBA,KAAMS,EAA9B,EAA8BA,SACxBkD,EAAWJ,OAAOK,OAAO,GAAIpD,GACnCmD,EAASD,GAAoB,WAAT1D,EAAoB,IAAM,IAE9CiC,EAAa,CACXjB,KAAM,CAAER,MAAOmD,EAAUlD,SAFM,WAAbA,EAAwB,QAAU,UAGpDX,UAEF,MAEF,IAAK,iBACH,MAAmCsC,EAAMK,WAAW7B,IAA5CV,EAAR,EAAQA,YAAaD,EAArB,EAAqBA,UACbe,EAASF,EAAOV,QAAhBY,KACSuC,OAAOC,OAAOxC,EAAKR,OAAO4C,OACzC,SAAAC,GAAG,MAAuB,UAAnBA,EAAIQ,eAGG3D,GAAeD,IAC7BmC,EAAMI,SAASrC,GAAgB,IAC/BiC,EAAMI,SAASlC,GAAkB,KAQvC+B,EAAKvB,ME7CDgD,EAAa,CAACC,IAAO5B,EAAeO,GAE3BsB,MAAe,WAAf,EAAmBF,GCN5BG,EAAkBC,OAAOC,sCAAwCC,IAExDC,cAAYC,EAASL,EAAgBH,I,qBCL9CS,EAAQ,CACZC,EAAG,CACDC,KACE,2bACFC,QAAS,aAEXC,EAAG,CACDF,KACE,sQACFC,QAAS,gBAUEE,EAPF,SAAC,GAAc,IAAZC,EAAW,EAAXA,KACd,OACE,qBAAKH,QAASH,EAAMM,GAAMH,QAA1B,SACE,sBAAMI,EAAGP,EAAMM,GAAMJ,UCXrBM,EAAOC,IAAOC,IAAV,4MACM,qBAAGhF,UAA6B,MAAQ,UAQlDiF,EAAOF,IAAOC,IAAV,mNAOU,qBAAGE,OAAuB,MAAQ,UAExC,kBAA4B,MAA5B,EAAGtC,OAA+B,MAAQ,SA+BzCuC,EA5BF,WACX,MAA6CC,aAAY,SAAAxE,GAAK,MAAK,CACjEb,KAAMa,EAAMD,IAAIZ,MAAQ,GACxBQ,MAAOK,EAAME,UAAUP,OAAS,GAChCC,SAAUI,EAAME,UAAUN,UAAY,GACtCR,UAAWY,EAAMD,IAAIX,YAAa,MAJ5BD,EAAR,EAAQA,KAAMQ,EAAd,EAAcA,MAAOC,EAArB,EAAqBA,SAAUR,EAA/B,EAA+BA,UAOzBuC,EAAW8C,cACjB,OACE,cAACP,EAAD,CAAM9E,UAAWA,EAAjB,SACGsD,OAAOgC,QAAQ/E,GAAOsC,KAAI,SAACI,EAAMF,GAAP,OACzB,cAACkC,EAAD,CACEC,QAASjC,EAAK,IAAMlD,IAASS,EAC7BoC,OAAQK,EAAK,GAAGW,WAChB2B,QAAS,kBACPhD,ETUgD,CAC1DnC,KAlDgB,YAmDhBD,QSX2B,CAAEsD,QAASR,EAAK,GAAI1C,QAAOR,OAAMS,eALtD,SAUGyC,EAAK,IAAM,cAAC,EAAD,CAAM2B,KAAM3B,EAAK,MAFxBF,S,QC3CTyC,EAAUT,IAAOC,IAAV,uKAoCES,EA3BA,WACb,MAAsCL,aAAY,SAAAxE,GAAK,MAAK,CAC1Db,KAAMa,EAAMD,IAAIZ,MAAQ,GACxBS,SAAUI,EAAME,UAAUN,UAAY,GACtCR,UAAWY,EAAMD,IAAIX,YAAa,MAH5BD,EAAR,EAAQA,KAAMS,EAAd,EAAcA,SAAUR,EAAxB,EAAwBA,UAKxB,EAA4B0F,mBAAS,IAArC,mBAAOC,EAAP,KAAeC,EAAf,KAmBA,OAjBAC,qBAAU,WAeRD,EAbK5F,EAOCA,IAAcD,EACV,wCAEA,kEATJA,IAASS,EACL,8CAEA,qFAUT,CAACR,EAAWD,EAAMS,IACd,cAACgF,EAAD,UAAUG,KCjCbH,EAAUT,IAAOC,IAAV,mVAgBPc,EAASf,IAAOC,IAAV,gGA+BGe,EA1BD,WACZ,MAAmCX,aAAY,SAAAxE,GAAK,MAAK,CACvDZ,UAAWY,EAAMD,IAAIX,YAAa,EAClCC,YAAaW,EAAMD,IAAIV,cAAe,MAFhCD,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,YAInB,EAA8ByF,mBAAS,yCAAvC,mBAAOM,EAAP,KAAgBC,EAAhB,KACM1D,EAAW8C,cACjBQ,qBAAU,WAERI,EADUhG,EAAc,0GAAuB,2CAE9C,CAACA,IAIJ,OACED,GACE,cAAC,EAAD,UACGC,EACC,+BAAO+F,IAEP,cAACF,EAAD,CAAQP,QATS,WACvBhD,EAASlC,GAAkB,KAQrB,SAAoC2F,OClC/BE,EARH,kBACV,qCACE,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,Q,iBCYWC,iBAXS,SAACC,GACvB,IAAQ7D,EAAa6D,EAAb7D,SACF8D,EAAeC,IAAGC,MAAMtC,OAAOuC,SAASC,OAAQ,CACpDC,mBAAmB,IAMrB,OAHAb,qBAAU,WACRtD,EdiD4D,CAC9DnC,KAAMZ,EACNW,QcnD8BkG,OAEvB,cAAC,WAAD,UAAWD,EAAMO,cCZ1BC,IAASC,OACP,cAAC,IAAD,CAAU1E,MAAOA,EAAjB,SACE,cAAC,EAAD,UACE,cAAC,EAAD,QAGJ2E,SAASC,eAAe,W","file":"static/js/main.535cd6be.chunk.js","sourcesContent":["// @flow\n\nconst GET_URL_PARAMS = \"GET_URL_PARAMS\";\nconst ADD_ROLE = \"ADD_ROLE\";\nconst WIN_RESULT = \"WIN_RESULT\";\nconst REPEAT_ROUND = \"REPEAT_ROUND\";\n\nexport type Action =\n  | { type: typeof GET_URL_PARAMS, payload: Object }\n  | { type: typeof ADD_ROLE, payload: Object }\n  | { type: typeof WIN_RESULT }\n  | { type: typeof REPEAT_ROUND };\n\nexport type State = {\n  token: String,\n  user: number,\n  role: String,\n  winResult: boolean,\n  repeatRound: boolean\n};\n\nconst initialState: State = {\n  token: \"\",\n  user: 0,\n  role: \"\",\n  winResult: false,\n  repeatRound: false\n};\n\nexport default function reducer(\n  state: State = initialState,\n  action: Action\n): State {\n  switch (action.type) {\n    case GET_URL_PARAMS: {\n      return {\n        ...state,\n        token: action.payload.token,\n        user: action.payload.user\n      };\n    }\n    case ADD_ROLE: {\n      return {\n        ...state,\n        role: action.payload.role\n      };\n    }\n    case WIN_RESULT: {\n      return {\n        ...state,\n        winResult: action.payload\n      };\n    }\n    case REPEAT_ROUND: {\n      return {\n        ...state,\n        repeatRound: action.payload\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n}\n\nexport const getUrlParamsAction = (payload: Object): Action => ({\n  type: GET_URL_PARAMS,\n  payload\n});\n\nexport const addRoleAction = (payload: Object): Action => ({\n  type: ADD_ROLE,\n  payload\n});\n\nexport const winResultAction = (payload: String): Action => ({\n  type: WIN_RESULT,\n  payload\n});\n\nexport const repeatRoundAction = (payload: boolean): Action => ({\n  type: REPEAT_ROUND,\n  payload\n});\n","// @flow\n\nconst START_GAME = \"START_GAME\";\nconst GET_GAME_STATE = \"GET_GAME_STATE\";\nconst MAKE_MOVE = \"MAKE_MOVE\";\n\nexport type Action =\n  | { type: typeof START_GAME }\n  | { type: typeof GET_GAME_STATE }\n  | { type: typeof MAKE_MOVE };\n\nexport type State = {\n  data: Object,\n  moveRole: String,\n  restart: boolean\n};\n\nconst initialState: State = {\n  field: {},\n  moveRole: \"master\",\n  restart: false\n};\n\nexport default function reducer(\n  state: State = initialState,\n  action: Action\n): State {\n  switch (action.type) {\n    case GET_GAME_STATE: {\n      return {\n        ...state,\n        field: action.payload.data.field,\n        moveRole: action.payload.data.moveRole,\n        restart: action.payload.data.restart\n      };\n    }\n\n    default: {\n      return state;\n    }\n  }\n}\n\nexport const startGameAction = (payload: String): Action => ({\n  type: START_GAME,\n  payload\n});\n\nexport const getGameStateAction = (payload: Object): Action => ({\n  type: GET_GAME_STATE,\n  payload\n});\n\nexport const makeMoveAction = (payload: Object): Action => ({\n  type: MAKE_MOVE,\n  payload\n});\n","import { combineReducers } from \"redux\";\n\nimport app from \"./modules/appState\";\nimport gameState from \"./modules/gameState\";\n\nexport default combineReducers({\n  app,\n  gameState\n});\n","export const useApiParams = () => {\n  const request = async (url, method = \"GET\", body = null, headers = {}) => {\n    try {\n      if (body) {\n        body = JSON.stringify(body);\n        headers[\"Content-Type\"] = \"application/json\";\n      }\n      const response = await fetch(url, { method, body, headers });\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.log(\"error\");\n    }\n  };\n  const postUserData = async body =>\n    await request(\"/api/session/SessionStart\", \"POST\", body);\n\n  const getGameData = async body =>\n    await request(\"/api/session/GameUpdate\", \"POST\", body);\n\n  const postMoveData = async body =>\n    await request(\"/api/session/MakeMove\", \"POST\", body);\n\n  const postRepeatRound = async body =>\n    await request(\"/api/session/RepeatRound\", \"POST\", body);\n\n  return { postUserData, getGameData, postMoveData, postRepeatRound };\n};\n","import { startGameAction } from \"../gameState\";\nimport { addRoleAction } from \"./index\";\nimport { useApiParams } from \"../../../services/mongoService\";\n\nconst appMiddleware = store => next => action => {\n  switch (action.type) {\n    case \"GET_URL_PARAMS\": {\n      const { token, user } = action.payload;\n      const { postUserData } = useApiParams();\n\n      postUserData({\n        token: token,\n        user: user\n      }).then(res => {\n        res && store.dispatch(addRoleAction(res));\n      });\n      store.dispatch(startGameAction(token));\n\n      break;\n    }\n    case \"REPEAT_ROUND\": {\n      const { token, role } = store.getState().app;\n      const { postRepeatRound } = useApiParams();\n      postRepeatRound({ token, role });\n      break;\n    }\n    default:\n  }\n\n  next(action);\n};\n\nexport default appMiddleware;\n","import { getGameStateAction } from \"../gameState\";\nimport { winResultAction } from \"../appState/\";\nimport { useApiParams } from \"../../../services/mongoService\";\nimport { winResult } from \"../../../services/winResult\";\nimport { repeatRoundAction } from \"../appState\";\nconst gameStateMiddleware = store => next => action => {\n  switch (action.type) {\n    case \"START_GAME\": {\n      const { getGameData } = useApiParams();\n      const token = action.payload;\n      setInterval(() => {\n        getGameData({ token }).then(res => {\n          const { gameState } = store.getState();\n          if (res && JSON.stringify(res.data) !== JSON.stringify(gameState)) {\n            if (res) {\n              store.dispatch(getGameStateAction(res));\n              let win = winResult(res.data.field);\n              win && store.dispatch(winResultAction(win));\n            }\n          }\n        });\n      }, 1000);\n      break;\n    }\n    case \"MAKE_MOVE\": {\n      const { token } = store.getState().app;\n      const { postMoveData } = useApiParams();\n      const { newMove, field, role, moveRole } = action.payload;\n      const newField = Object.assign({}, field);\n      newField[newMove] = role === \"master\" ? \"x\" : \"y\";\n      const newMoveRole = moveRole === \"master\" ? \"guest\" : \"master\";\n      postMoveData({\n        data: { field: newField, moveRole: newMoveRole },\n        token\n      });\n      break;\n    }\n    case \"GET_GAME_STATE\": {\n      const { repeatRound, winResult } = store.getState().app;\n      const { data } = action.payload;\n      const newRound = Object.values(data.field).every(\n        val => val.toString() === \"false\"\n      );\n\n      if (newRound && repeatRound && winResult) {\n        store.dispatch(winResultAction(false));\n        store.dispatch(repeatRoundAction(false));\n      }\n\n      break;\n    }\n    default:\n  }\n\n  next(action);\n};\n\nexport default gameStateMiddleware;\n","export const winResult = data => {\n  let result = false;\n  const winCombinations = [\n    [\"betType1\", \"betType2\", \"betType3\"],\n    [\"betType4\", \"betType5\", \"betType6\"],\n    [\"betType7\", \"betType8\", \"betType9\"],\n    [\"betType1\", \"betType4\", \"betType7\"],\n    [\"betType2\", \"betType5\", \"betType8\"],\n    [\"betType3\", \"betType6\", \"betType9\"],\n    [\"betType1\", \"betType5\", \"betType9\"],\n    [\"betType7\", \"betType5\", \"betType3\"]\n  ];\n\n  winCombinations.map((comb, i) => {\n    let equal = [];\n    comb.map((item, i) => equal.push(data[item] ? data[item] : i));\n    if (equal.every((val, i, arr) => val === arr[0])) {\n      result = equal[0] === \"x\" ? \"master\" : \"guest\";\n    } else if (Object.values(data).findIndex(item => item === false) === -1) {\n      result = \"tie\";\n    }\n    return equal;\n  });\n  return result;\n};\n","// @flow\n\nimport { applyMiddleware } from \"redux\";\n\nimport thunk from \"redux-thunk\";\n\nimport appMiddleware from \"./modules/appState/middleware\";\nimport gameStateMiddleware from \"./modules/gameState/middleware\";\n\nconst middleware = [thunk, appMiddleware, gameStateMiddleware];\n\nexport default applyMiddleware(...middleware);\n","import { createStore, compose } from \"redux\";\n\nimport reducer from \"./reducer\";\nimport middleware from \"./middleware\";\n\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nexport default createStore(reducer, composeEnhancer(middleware));\n","import React from \"react\";\n\nconst paths = {\n  x: {\n    path:\n      \"M28.228,23.986L47.092,5.122c1.172-1.171,1.172-3.071,0-4.242c-1.172-1.172-3.07-1.172-4.242,0L23.986,19.744L5.121,0.88   c-1.172-1.172-3.07-1.172-4.242,0c-1.172,1.171-1.172,3.071,0,4.242l18.865,18.864L0.879,42.85c-1.172,1.171-1.172,3.071,0,4.242   C1.465,47.677,2.233,47.97,3,47.97s1.535-0.293,2.121-0.879l18.865-18.864L42.85,47.091c0.586,0.586,1.354,0.879,2.121,0.879   s1.535-0.293,2.121-0.879c1.172-1.171,1.172-3.071,0-4.242L28.228,23.986z\",\n    viewBox: \"0 0 49 49\"\n  },\n  y: {\n    path:\n      \"M256,0C114.508,0,0,114.497,0,256c0,141.493,114.497,256,256,256c141.492,0,256-114.497,256-256    C512,114.507,397.503,0,256,0z M256,472c-119.384,0-216-96.607-216-216c0-119.385,96.607-216,216-216    c119.384,0,216,96.607,216,216C472,375.385,375.393,472,256,472z\",\n    viewBox: \"0 0 512 512\"\n  }\n};\nconst Icon = ({ icon }) => {\n  return (\n    <svg viewBox={paths[icon].viewBox}>\n      <path d={paths[icon].path} />\n    </svg>\n  );\n};\nexport default Icon;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { makeMoveAction } from \"../../redux/modules/gameState\";\nimport Icon from \"../icon\";\n\nconst Grid = styled.div`\n  background: ${({ winResult }) => (winResult ? \"red\" : \"gray\")};\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-template-rows: repeat(3, 1fr);\n  grid-gap: 1em;\n  height: 50vh;\n  border: 1px solid;\n`;\nconst Item = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  background: white;\n  pointer-events: ${({ active }) => (active ? \"all\" : \"none\")};\n  & svg {\n    height: ${({ result }) => (result === \"y\" ? \"37%\" : \"30%\")};\n  }\n`;\nconst Body = () => {\n  const { role, field, moveRole, winResult } = useSelector(state => ({\n    role: state.app.role || \"\",\n    field: state.gameState.field || {},\n    moveRole: state.gameState.moveRole || \"\",\n    winResult: state.app.winResult || false\n  }));\n\n  const dispatch = useDispatch();\n  return (\n    <Grid winResult={winResult}>\n      {Object.entries(field).map((item, i) => (\n        <Item\n          active={!item[1] && role === moveRole}\n          result={item[1].toString()}\n          onClick={() =>\n            dispatch(\n              makeMoveAction({ newMove: item[0], field, role, moveRole })\n            )\n          }\n          key={i}\n        >\n          {item[1] && <Icon icon={item[1]} />}\n        </Item>\n      ))}\n    </Grid>\n  );\n};\nexport default Body;\n","import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { useSelector } from \"react-redux\";\n\nconst Wrapper = styled.div`\n  text-align: center;\n  font-size: 1.5em;\n  text-transform: uppercase;\n  font-family: sans-serif;\n  font-weight: bold;\n  color: red;\n`;\n\nconst Status = () => {\n  const { role, moveRole, winResult } = useSelector(state => ({\n    role: state.app.role || \"\",\n    moveRole: state.gameState.moveRole || \"\",\n    winResult: state.app.winResult || false\n  }));\n  const [status, setStatus] = useState(\"\");\n\n  useEffect(() => {\n    let res = \"\";\n    if (!winResult) {\n      if (role === moveRole) {\n        res = \"Твой ход\";\n      } else {\n        res = \"Ход противника\";\n      }\n    } else {\n      if (winResult === role) {\n        res = \"Победа!\";\n      } else {\n        res = \"В другой раз!\";\n      }\n    }\n    setStatus(res);\n  }, [winResult, role, moveRole]);\n  return <Wrapper>{status}</Wrapper>;\n};\nexport default Status;\n","import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { repeatRoundAction } from \"../../redux/modules/appState\";\n\nconst Wrapper = styled.div`\n  position: absolute;\n  top: 15%;\n  height: 30%;\n  width: 100%;\n  background: rgba(0, 0, 0, 0.8);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #fff;\n  font-weight: bold;\n  font-size: 2em;\n  text-transform: uppercase;\n  font-family: sans-serif;\n  text-align: center;\n`;\nconst Button = styled.div`\n  background: green;\n  padding: 0.5em 1em;\n  border-radius: 1em;\n`;\nconst Popup = () => {\n  const { winResult, repeatRound } = useSelector(state => ({\n    winResult: state.app.winResult || false,\n    repeatRound: state.app.repeatRound || false\n  }));\n  const [message, setMessage] = useState(\"Еще раз\");\n  const dispatch = useDispatch();\n  useEffect(() => {\n    let mes = repeatRound ? \"Ожидание соперника\" : \"Еще раз\";\n    setMessage(mes);\n  }, [repeatRound]);\n  const handleReplyRound = () => {\n    dispatch(repeatRoundAction(true));\n  };\n  return (\n    winResult && (\n      <Wrapper>\n        {repeatRound ? (\n          <span>{message}</span>\n        ) : (\n          <Button onClick={handleReplyRound}>{message}</Button>\n        )}\n      </Wrapper>\n    )\n  );\n};\nexport default Popup;\n","import React from \"react\";\nimport Body from \"./components/body\";\nimport Status from \"./components/status\";\nimport Popup from \"./components//popup\";\nconst App = () => (\n  <>\n    <Popup />\n    <Status />\n    <Body />\n  </>\n);\n\nexport default App;\n","//flow\nimport React, { Fragment, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport qs from \"qs\";\nimport { getUrlParamsAction } from \"../redux/modules/appState\";\n\ntype Props = {\n  children: any\n};\nconst LoadingProvider = (props: Props) => {\n  const { dispatch } = props;\n  const rawUrlParams = qs.parse(window.location.search, {\n    ignoreQueryPrefix: true\n  });\n\n  useEffect(() => {\n    dispatch(getUrlParamsAction(rawUrlParams));\n  });\n  return <Fragment>{props.children}</Fragment>;\n};\nexport default connect()(LoadingProvider);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux\";\nimport App from \"./App\";\nimport LoadingProvider from \"./provider/LoadingProvider\";\nReactDOM.render(\n  <Provider store={store}>\n    <LoadingProvider>\n      <App />\n    </LoadingProvider>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}