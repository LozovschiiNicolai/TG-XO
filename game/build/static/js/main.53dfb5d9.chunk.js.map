{"version":3,"sources":["redux/modules/appState/index.js","redux/modules/gameState/index.js","redux/reducer.js","services/mongoService.js","redux/modules/appState/middleware.js","redux/modules/gameState/middleware.js","services/mapGetGameData.js","redux/middleware.js","redux/index.js","configs/index.js","components/icon/x.js","components/icon/o.js","components/body/field/index.js","components/body/resultLine/index.js","components/body/index.js","components/status/commonStatus/index.js","components/status/index.js","components/restart/index.js","App.js","provider/LoadingProvider.js","provider/OrientationProvider.js","index.js"],"names":["GET_URL_PARAMS","ADD_ROLE","REPEAT_ROUND","SET_SIZE","initialState","token","user","role","repeatRound","size","repeatRoundAction","payload","type","GET_GAME_STATE","field","moveRole","gameScore","winResult","winStatus","res","combination","combineReducers","app","state","action","gameState","data","useApiParams","request","url","a","method","body","headers","JSON","stringify","fetch","response","json","console","log","postUserData","getGameData","postMoveData","postRepeatRound","appMiddleware","store","next","name","then","dispatch","getState","gameStateMiddleware","setInterval","mapGetGameData","newMove","newField","Object","assign","values","every","val","toString","middleware","thunk","applyMiddleware","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","reducer","COORD","item1","x","y","item2","item3","item4","item5","item6","item7","item8","item9","LINE_COORD","x1","y1","x2","y2","IconX","num","width","height","fill","viewBox","filter","fillRule","d","clipRule","id","colorInterpolationFilters","filterUnits","floodOpacity","result","in","in2","stdDeviation","IconO","Item","styled","rect","active","Field","props","useDispatch","entries","map","item","i","onClick","dash","keyframes","Wrapper","g","ResultLine","stroke","strokeWidth","strokeLinecap","fadeIn","div","Grid","svg","Body","useSelector","StatusText","Status","useState","status","setStatus","useEffect","Button","button","Popup","message","setMessage","newRound","setTimeout","Container","App","LoadingProvider","rawUrlParams","qs","parse","location","search","ignoreQueryPrefix","children","OrientationProvider","updateSize","innerWidth","innerHeight","addEventListener","removeEventListener","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.53dfb5d9.chunk.js","sourcesContent":["// @flow\n\nconst GET_URL_PARAMS = \"GET_URL_PARAMS\";\nconst ADD_ROLE = \"ADD_ROLE\";\nconst WIN_RESULT = \"WIN_RESULT\";\nconst REPEAT_ROUND = \"REPEAT_ROUND\";\nconst SET_SIZE = \"SET_SIZE\";\n\nexport type Action =\n  | { type: typeof GET_URL_PARAMS, payload: Object }\n  | { type: typeof ADD_ROLE, payload: Object }\n  | { type: typeof WIN_RESULT }\n  | { type: typeof REPEAT_ROUND }\n  | { type: typeof SET_SIZE, payload: Object };\n\nexport type State = {\n  token: String,\n  user: String,\n  role: String,\n  repeatRound: boolean,\n  size: Object,\n  gameScore: Object\n};\n\nconst initialState: State = {\n  token: \"\",\n  user: \"\",\n  role: \"\",\n  repeatRound: false,\n  size: {}\n};\n\nexport default function reducer(\n  state: State = initialState,\n  action: Action\n): State {\n  switch (action.type) {\n    case GET_URL_PARAMS: {\n      return {\n        ...state,\n        token: action.payload.token,\n        user: action.payload.user\n      };\n    }\n    case ADD_ROLE: {\n      return {\n        ...state,\n        role: action.payload\n      };\n    }\n    case REPEAT_ROUND: {\n      return {\n        ...state,\n        repeatRound: action.payload\n      };\n    }\n    case SET_SIZE: {\n      return {\n        ...state,\n        size: action.payload\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n}\n\nexport const getUrlParamsAction = (payload: Object): Action => ({\n  type: GET_URL_PARAMS,\n  payload\n});\n\nexport const addRoleAction = (payload: String): Action => ({\n  type: ADD_ROLE,\n  payload\n});\n\nexport const repeatRoundAction = (payload: boolean): Action => ({\n  type: REPEAT_ROUND,\n  payload\n});\n\nexport const setSizeAction = (payload: Object): Action => ({\n  type: SET_SIZE,\n  payload\n});\n","// @flow\n\nconst START_GAME = \"START_GAME\";\nconst GET_GAME_STATE = \"GET_GAME_STATE\";\nconst MAKE_MOVE = \"MAKE_MOVE\";\n\nexport type Action =\n  | { type: typeof START_GAME }\n  | { type: typeof GET_GAME_STATE }\n  | { type: typeof MAKE_MOVE };\n\nexport type State = {\n  data: Object,\n  moveRole: String,\n  gameScore: Object,\n  winResult: Object\n};\n\nconst initialState: State = {\n  field: {},\n  moveRole: \"master\",\n  gameScore: {},\n  winResult: {\n    winStatus: false,\n    res: \"\",\n    combination: 0\n  }\n};\n\nexport default function reducer(\n  state: State = initialState,\n  action: Action\n): State {\n  switch (action.type) {\n    case GET_GAME_STATE: {\n      return {\n        ...state,\n        field: action.payload.data.field,\n        moveRole: action.payload.data.moveRole,\n        gameScore: action.payload.gameScore,\n        winResult: action.payload.winResult\n      };\n    }\n\n    default: {\n      return state;\n    }\n  }\n}\n\nexport const startGameAction = (payload: String): Action => ({\n  type: START_GAME,\n  payload\n});\n\nexport const getGameStateAction = (payload: Object): Action => ({\n  type: GET_GAME_STATE,\n  payload\n});\n\nexport const makeMoveAction = (payload: Object): Action => ({\n  type: MAKE_MOVE,\n  payload\n});\n","import { combineReducers } from \"redux\";\n\nimport app from \"./modules/appState\";\nimport gameState from \"./modules/gameState\";\n\nexport default combineReducers({\n  app,\n  gameState\n});\n","export const useApiParams = () => {\n  const request = async (url, method = \"GET\", body = null, headers = {}) => {\n    try {\n      if (body) {\n        body = JSON.stringify(body);\n        headers[\"Content-Type\"] = \"application/json\";\n      }\n      const response = await fetch(url, { method, body, headers });\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.log(\"error\");\n    }\n  };\n  const postUserData = async body =>\n    await request(\"/api/session/SessionStart\", \"POST\", body);\n\n  const getGameData = async body =>\n    await request(\"/api/session/GameUpdate\", \"POST\", body);\n\n  const postMoveData = async body =>\n    await request(\"/api/session/MakeMove\", \"POST\", body);\n\n  const postRepeatRound = async body =>\n    await request(\"/api/session/RepeatRound\", \"POST\", body);\n\n  return { postUserData, getGameData, postMoveData, postRepeatRound };\n};\n","import { startGameAction } from \"../gameState\";\nimport { addRoleAction } from \"./index\";\nimport { useApiParams } from \"../../../services/mongoService\";\n\nconst appMiddleware = store => next => action => {\n  switch (action.type) {\n    case \"GET_URL_PARAMS\": {\n      const { token, user, name } = action.payload;\n      const { postUserData } = useApiParams();\n      postUserData({\n        token: token,\n        user: user,\n        name: name\n      }).then(res => {\n        res && store.dispatch(addRoleAction(res.role));\n      });\n\n      store.dispatch(startGameAction(token));\n\n      break;\n    }\n    case \"REPEAT_ROUND\": {\n      const { token, role } = store.getState().app;\n      const { postRepeatRound } = useApiParams();\n      postRepeatRound({ token, role });\n      break;\n    }\n    default:\n  }\n\n  next(action);\n};\n\nexport default appMiddleware;\n","import { getGameStateAction } from \"../gameState\";\nimport { useApiParams } from \"../../../services/mongoService\";\nimport { repeatRoundAction } from \"../appState\";\nimport { mapGetGameData } from \"../../../services/mapGetGameData\";\n\nconst gameStateMiddleware = store => next => action => {\n  switch (action.type) {\n    case \"START_GAME\": {\n      const { getGameData } = useApiParams();\n      const token = action.payload;\n      setInterval(() => {\n        const { gameState } = store.getState();\n        getGameData({ token }).then(res => {\n          if (\n            res &&\n            JSON.stringify(mapGetGameData(res)) !== JSON.stringify(gameState)\n          ) {\n            store.dispatch(getGameStateAction(res));\n          }\n        });\n      }, 1000);\n      break;\n    }\n    case \"MAKE_MOVE\": {\n      const { token } = store.getState().app;\n      const { postMoveData } = useApiParams();\n      const { newMove, field, role, moveRole } = action.payload;\n      const newField = Object.assign({}, field);\n      newField[newMove] = role === \"master\" ? \"x\" : \"y\";\n      const newMoveRole = moveRole === \"master\" ? \"guest\" : \"master\";\n      postMoveData({\n        data: { field: newField, moveRole: newMoveRole },\n        token\n      });\n      break;\n    }\n    case \"GET_GAME_STATE\": {\n      const { repeatRound } = store.getState().app;\n      const { data } = action.payload;\n      const newRound =\n        data &&\n        Object.values(data.field).every(val => val.toString() === \"false\");\n\n      if (newRound && repeatRound) {\n        store.dispatch(repeatRoundAction(false));\n      }\n\n      break;\n    }\n    default:\n  }\n\n  next(action);\n};\n\nexport default gameStateMiddleware;\n","export const mapGetGameData = res => ({\n  field: res.data.field,\n  moveRole: res.data.moveRole,\n  gameScore: res.gameScore,\n  winResult: res.winResult\n});\n","// @flow\n\nimport { applyMiddleware } from \"redux\";\n\nimport thunk from \"redux-thunk\";\n\nimport appMiddleware from \"./modules/appState/middleware\";\nimport gameStateMiddleware from \"./modules/gameState/middleware\";\n\nconst middleware = [thunk, appMiddleware, gameStateMiddleware];\n\nexport default applyMiddleware(...middleware);\n","import { createStore, compose } from \"redux\";\n\nimport reducer from \"./reducer\";\nimport middleware from \"./middleware\";\n\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nexport default createStore(reducer, composeEnhancer(middleware));\n","export const COORD = {\n  item1: { x: 0, y: 0 },\n  item2: { x: 33, y: 0 },\n  item3: { x: 66, y: 0 },\n  item4: { x: 0, y: 33 },\n  item5: { x: 33, y: 33 },\n  item6: { x: 66, y: 33 },\n  item7: { x: 0, y: 66 },\n  item8: { x: 33, y: 66 },\n  item9: { x: 66, y: 66 }\n};\n\nexport const LINE_COORD = {\n  item1: { x1: 16.5, y1: 16.5, x2: 82.5, y2: 16.5 },\n  item2: { x1: 16.5, y1: 49.5, x2: 82.5, y2: 49.5 },\n  item3: { x1: 16.5, y1: 82.5, x2: 82.5, y2: 82.5 },\n\n  item4: { x1: 16.5, y1: 16.5, x2: 16.5, y2: 82.5 },\n  item5: { x1: 49.5, y1: 16.5, x2: 49.5, y2: 82.5 },\n  item6: { x1: 82.5, y1: 16.5, x2: 82.5, y2: 82.5 },\n\n  item7: { x1: 16.5, y1: 16.5, x2: 82.5, y2: 82.5 },\n  item8: { x1: 16.5, y1: 82.5, x2: 82.5, y2: 16.5 }\n};\n","import { COORD } from \"../../configs\";\n\nconst IconX = ({ num }) => (\n  <svg\n    width=\"20\"\n    height=\"20\"\n    fill=\"none\"\n    viewBox=\"0 0 68 68\"\n    x={COORD[`item${num + 1}`].x + 7}\n    y={COORD[`item${num + 1}`].y + 7}\n  >\n    <defs />\n    <g filter=\"url(#filterX)\">\n      <path\n        fill=\"#4F4F4F\"\n        fillRule=\"evenodd\"\n        d=\"M4.879 4.995a3 3 0 000 4.243L29.639 34 4.88 58.76a3 3 0 000 4.243l.116.117a3 3 0 004.243 0l24.76-24.762L58.76 63.121a3 3 0 004.242 0l.117-.117a3 3 0 000-4.243L38.36 34l24.76-24.762a3 3 0 000-4.243l-.117-.116a3 3 0 00-4.242 0L33.999 29.64 9.238 4.88a3 3 0 00-4.243 0l-.116.116z\"\n        clipRule=\"evenodd\"\n      />\n    </g>\n    <path\n      fill=\"#9B51E0\"\n      fillRule=\"evenodd\"\n      d=\"M2.879 2.995a3 3 0 000 4.243L27.639 32 2.88 56.76a3 3 0 000 4.243l.116.117a3 3 0 004.243 0l24.76-24.762L56.76 61.121a3 3 0 004.242 0l.117-.117a3 3 0 000-4.243L36.36 32l24.76-24.762a3 3 0 000-4.243l-.117-.116a3 3 0 00-4.242 0L31.999 27.64 7.238 2.88a3 3 0 00-4.243 0l-.116.116z\"\n      clipRule=\"evenodd\"\n    />\n    <defs>\n      <filter\n        id=\"filterX\"\n        width=\"67.998\"\n        height=\"67.999\"\n        x=\"0\"\n        y=\"0\"\n        colorInterpolationFilters=\"sRGB\"\n        filterUnits=\"userSpaceOnUse\"\n      >\n        <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\" />\n        <feBlend in=\"SourceGraphic\" in2=\"BackgroundImageFix\" result=\"shape\" />\n        <feGaussianBlur result=\"effect1_foregroundBlur\" stdDeviation=\"2\" />\n      </filter>\n    </defs>\n  </svg>\n);\nexport default IconX;\n","import { COORD } from \"../../configs\";\n\nconst IconO = ({ num }) => (\n  <svg\n    width=\"20\"\n    height=\"20\"\n    fill=\"none\"\n    viewBox=\"0 0 68 68\"\n    x={COORD[`item${num + 1}`].x + 7}\n    y={COORD[`item${num + 1}`].y + 7}\n  >\n    <defs />\n    <g filter=\"url(#filterO)\">\n      <path\n        fill=\"#4F4F4F\"\n        fillRule=\"evenodd\"\n        d=\"M34 64c16.569 0 30-13.431 30-30C64 17.431 50.569 4 34 4 17.431 4 4 17.431 4 34c0 16.569 13.431 30 30 30zm-.17-6.34c13.16 0 23.83-10.67 23.83-23.83C57.66 20.67 46.99 10 33.83 10 20.67 10 10 20.67 10 33.83c0 13.16 10.67 23.83 23.83 23.83z\"\n        clipRule=\"evenodd\"\n      />\n    </g>\n    <path\n      fill=\"#2F80ED\"\n      fillRule=\"evenodd\"\n      d=\"M32 62c16.569 0 30-13.431 30-30C62 15.431 48.569 2 32 2 15.431 2 2 15.431 2 32c0 16.569 13.431 30 30 30zm-.17-6.34c13.16 0 23.83-10.67 23.83-23.83C55.66 18.67 44.99 8 31.83 8 18.67 8 8 18.67 8 31.83c0 13.16 10.67 23.83 23.83 23.83z\"\n      clipRule=\"evenodd\"\n    />\n\n    <defs>\n      <filter\n        id=\"filterO\"\n        width=\"68\"\n        height=\"68\"\n        x=\"0\"\n        y=\"0\"\n        colorInterpolationFilters=\"sRGB\"\n        filterUnits=\"userSpaceOnUse\"\n      >\n        <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\" />\n        <feBlend in=\"SourceGraphic\" in2=\"BackgroundImageFix\" result=\"shape\" />\n        <feGaussianBlur result=\"effect1_foregroundBlur\" stdDeviation=\"2\" />\n      </filter>\n    </defs>\n  </svg>\n);\nexport default IconO;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { useDispatch } from \"react-redux\";\nimport { makeMoveAction } from \"../../../redux/modules/gameState\";\nimport IconX from \"../../icon/x\";\nimport IconO from \"../../icon/o\";\nimport { COORD } from \"../../../configs\";\n\nconst Item = styled.rect`\n  fill: none;\n  pointer-events: ${({ active }) => (active ? \"all\" : \"none\")};\n`;\nconst Field = props => {\n  const { role, field, moveRole } = props;\n\n  const dispatch = useDispatch();\n  return Object.entries(field).map((item, i) => (\n    <g key={i}>\n      <Item\n        width=\"33\"\n        height=\"33\"\n        x={COORD[`item${i + 1}`].x}\n        y={COORD[`item${i + 1}`].y}\n        active={!item[1] && role === moveRole}\n        result={item[1].toString()}\n        onClick={() =>\n          dispatch(makeMoveAction({ newMove: item[0], field, role, moveRole }))\n        }\n      />\n      {item[1] === \"x\" ? (\n        <IconX num={i} />\n      ) : item[1] === \"y\" ? (\n        <IconO num={i} />\n      ) : (\n        \"\"\n      )}\n    </g>\n  ));\n};\nexport default Field;\n","import React from \"react\";\nimport { LINE_COORD } from \"../../../configs\";\nimport styled, { keyframes } from \"styled-components\";\n\nconst dash = keyframes`\n  to {\n    stroke-dashoffset: 0;\n  }\n`;\n\nconst Wrapper = styled.g`\n  & line {\n    stroke-dasharray: 300;\n    stroke-dashoffset: 300;\n    animation: ${dash} 2s ease-out forwards;\n  }\n`;\n\nconst ResultLine = ({ winResult, role }) => (\n  <Wrapper>\n    <line\n      x1={LINE_COORD[`item${winResult.combination}`].x1}\n      y1={LINE_COORD[`item${winResult.combination}`].y1}\n      x2={LINE_COORD[`item${winResult.combination}`].x2}\n      y2={LINE_COORD[`item${winResult.combination}`].y2}\n      stroke={winResult.res === role ? \"#219653\" : \"#EB5757\"}\n      strokeWidth=\"3\"\n      strokeLinecap=\"round\"\n    />\n  </Wrapper>\n);\nexport default ResultLine;\n","import React from \"react\";\nimport styled, { keyframes } from \"styled-components\";\nimport { useSelector } from \"react-redux\";\nimport Field from \"./field\";\nimport ResultLine from \"./resultLine\";\n\nconst fadeIn = keyframes`\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n`;\nconst Wrapper = styled.div`\n  width: 90%;\n  height: 50%;\n`;\n\nconst Grid = styled.svg`\n  width: 100%;\n  height: 100%;\n  & line {\n    filter: drop-shadow(1px 1px 0.5px rgba(0, 0, 0, 0.25));\n  }\n  & g svg {\n    animation: 0.5s ${fadeIn} ease-out;\n  }\n`;\n\nconst Body = () => {\n  const { role, field, moveRole, winResult } = useSelector(state => ({\n    role: state.app.role || \"\",\n    field: state.gameState.field || {},\n    moveRole: state.gameState.moveRole || \"\",\n    winResult: state.gameState.winResult || {}\n  }));\n\n  return (\n    <Wrapper>\n      <Grid viewBox=\"0 0 99 99\">\n        <line x1=\"0\" y1=\"33\" x2=\"99\" y2=\"33\" stroke=\"#2d9cdb\" />\n        <line x1=\"0\" y1=\"66\" x2=\"99\" y2=\"66\" stroke=\"#2d9cdb\" />\n        <line x1=\"33\" y1=\"0\" x2=\"33\" y2=\"99\" stroke=\"#2d9cdb\" />\n        <line x1=\"66\" y1=\"0\" x2=\"66\" y2=\"99\" stroke=\"#2d9cdb\" />\n\n        <Field moveRole={moveRole} field={field} role={role} />\n\n        {winResult.winStatus && (\n          <ResultLine winResult={winResult} role={role} />\n        )}\n      </Grid>\n    </Wrapper>\n  );\n};\nexport default Body;\n","import styled from \"styled-components\";\n\nexport const StatusText = styled.div`\n  text-align: center;\n  font-size: 1.5em;\n  text-transform: uppercase;\n  font-family: sans-serif;\n  font-weight: 200;\n  color: #56ccf2;\n  text-shadow: 2px 2px 4px #4f4f4f;\n  @media (orientation: landscape) {\n    font-size: 1em;\n  }\n`;\n","import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { useSelector } from \"react-redux\";\nimport { StatusText } from \"./commonStatus/\";\n\nconst Wrapper = styled.div`\n  height: 15%;\n  display: flex;\n  align-items: center;\n`;\n\nconst Status = () => {\n  const { role, moveRole, winResult } = useSelector(state => ({\n    role: state.app.role || \"\",\n    moveRole: state.gameState.moveRole || \"\",\n    winResult: state.gameState.winResult || false\n  }));\n  const [status, setStatus] = useState(\"\");\n\n  useEffect(() => {\n    let res = \"\";\n    if (!winResult.winStatus) {\n      if (role === moveRole) {\n        res = \"Твой ход\";\n      } else {\n        res = \"Ход противника\";\n      }\n    } else {\n      if (winResult.res === role) {\n        res = \"Победа!\";\n      } else {\n        res = \"В другой раз!\";\n      }\n    }\n    setStatus(res);\n  }, [winResult, role, moveRole]);\n  return (\n    <Wrapper>\n      <StatusText>{status}</StatusText>\n    </Wrapper>\n  );\n};\nexport default Status;\n","import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { repeatRoundAction } from \"../../redux/modules/appState\";\nimport { StatusText } from \"../status/commonStatus/\";\n\nconst Wrapper = styled.div`\n  height: 15%;\n  display: flex;\n  align-items: center;\n  margin: 2.5% 0;\n`;\nconst Button = styled.button`\n  position: relative;\n  background: linear-gradient(92.1deg, #2f80ed 0%, #bb6bd9 100%);\n  font-family: sans-serif;\n  font-weight: bold;\n  font-size: 24px;\n  text-transform: uppercase;\n  padding: 0.7em 3em;\n  border-radius: 1.3em;\n  border: none;\n  box-shadow: 2px 2px 4px #4f4f4f;\n  outline: none;\n  & span {\n    background: #2f2f2f;\n    color: transparent;\n    text-shadow: 2px 2px 3px #aa6edc;\n    -webkit-background-clip: text;\n    -moz-background-clip: text;\n    background-clip: text;\n  }\n  &:active {\n    box-shadow: inset 2px 2px 4px #4f4f4f;\n    & span {\n      background: transparent;\n      color: #aa6edc;\n      text-shadow: 2px 2px 3px #4f4f4f;\n    }\n  }\n  @media (orientation: landscape) {\n    font-size: 1em;\n  }\n`;\nconst Popup = () => {\n  const { repeatRound, field } = useSelector(state => ({\n    repeatRound: state.app.repeatRound || false,\n    field: state.gameState.field\n  }));\n  const [message, setMessage] = useState(\"Еще раз\");\n  const dispatch = useDispatch();\n  useEffect(() => {\n    let mes = repeatRound ? \"Ожидание соперника\" : \"Еще раз\";\n    setMessage(mes);\n  }, [repeatRound]);\n\n  const handleReplyRound = () => {\n    const newRound = Object.values(field).every(\n      val => val.toString() === \"false\"\n    );\n    setTimeout(() => {\n      !newRound && dispatch(repeatRoundAction(true));\n    }, 500);\n  };\n  return (\n    <Wrapper>\n      {repeatRound ? (\n        <StatusText>{message}</StatusText>\n      ) : (\n        <Button onClick={handleReplyRound}>\n          <span>{message}</span>\n        </Button>\n      )}\n    </Wrapper>\n  );\n};\nexport default Popup;\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport styled from \"styled-components\";\nimport Body from \"./components/body\";\nimport Status from \"./components/status\";\nimport Restart from \"./components/restart\";\n\nconst Wrapper = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(345.45deg, #bb6bd9 0%, #2f80ed 100%);\n`;\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n  height: 100vh;\n  margin: auto;\n  width: ${({ size }) => (size ? `${size.width}px` : `100%`)};\n`;\nconst App = () => {\n  const { size } = useSelector(state => ({\n    size: state.app.size || {}\n  }));\n  return (\n    <Wrapper>\n      <Container size={size}>\n        <Status />\n        <Body />\n        <Restart />\n      </Container>\n    </Wrapper>\n  );\n};\nexport default App;\n","//flow\nimport React, { Fragment, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport qs from \"qs\";\nimport { getUrlParamsAction } from \"../redux/modules/appState\";\n\ntype Props = {\n  children: any\n};\nconst LoadingProvider = (props: Props) => {\n  const dispatch = useDispatch();\n  const rawUrlParams = qs.parse(window.location.search, {\n    ignoreQueryPrefix: true\n  });\n\n  useEffect(() => {\n    dispatch(getUrlParamsAction(rawUrlParams));\n  });\n  return <Fragment>{props.children}</Fragment>;\n};\nexport default LoadingProvider;\n","//flow\nimport React, { Fragment, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { setSizeAction } from \"../redux/modules/appState\";\n\ntype Props = {\n  children: any\n};\n\nconst OrientationProvider = (props: Props) => {\n  const dispatch = useDispatch();\n  const updateSize = () => {\n    let result = 0;\n    if (window.innerWidth > window.innerHeight) {\n      result = window.innerHeight;\n    } else {\n      result = window.innerWidth;\n    }\n    dispatch(setSizeAction({ width: result }));\n  };\n  useEffect(() => {\n    updateSize();\n    window.addEventListener(\"resize\", updateSize, true);\n    return () => window.removeEventListener(\"resize\", updateSize);\n  });\n\n  return <Fragment>{props.children}</Fragment>;\n};\nexport default OrientationProvider;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux\";\nimport App from \"./App\";\nimport LoadingProvider from \"./provider/LoadingProvider\";\nimport OrientationProvider from \"./provider/OrientationProvider\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <LoadingProvider>\n      <OrientationProvider>\n        <App />\n      </OrientationProvider>\n    </LoadingProvider>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}